var Spotlight=(window.webpackJsonpSpotlight=window.webpackJsonpSpotlight||[]).push([[12],{0:function(e,t){e.exports=React},111:function(e,t,n){"use strict";(function(e,l){var o,r=n(58);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:l;var a=Object(r.a)(o);t.a=a}).call(this,n(19),n(89)(e))},112:function(e,t,n){"use strict";function l(e){return function(t){var n=t.dispatch,l=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,l,e):t(o)}}}}var o=l();o.withExtraArgument=l,t.a=o},15:function(e,t){e.exports=ReactDOM},19:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},21:function(e,t,n){e.exports=n(94)()},333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WpBlockStore=void 0;const l=n(11),o=n(78),r=n(796),a=n(248);t.WpBlockStore=l.configureStore({reducer:{[r.WpBlockSlice.name]:r.WpBlockSlice.reducer,[a.WalletsSlice.name]:a.WalletsSlice.reducer,[o.FeedsSlice.name]:o.FeedsSlice.reducer}})},334:function(e,t,n){"use strict";var l=this&&this.__awaiter||function(e,t,n,l){return new(n||(n=Promise))((function(o,r){function a(e){try{i(l.next(e))}catch(e){r(e)}}function c(e){try{i(l.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}i((l=l.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.loadWpBlock=void 0;const o=n(11),r=n(75),a=n(77);t.loadWpBlock=o.createAsyncThunk("wpBlock/load",(e,t)=>l(void 0,void 0,void 0,(function*(){try{yield Promise.all([t.dispatch(a.loadWallets()),t.dispatch(r.loadFeeds())])}catch(e){}})))},45:function(e,t,n){"use strict";var l=n(85),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function i(e){return l.isMemo(e)?a:c[e.$$typeof]||o}c[l.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[l.Memo]=a;var u=Object.defineProperty,s=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,l){if("string"!=typeof n){if(m){var o=p(n);o&&o!==m&&e(t,o,l)}var a=s(n);d&&(a=a.concat(d(n)));for(var c=i(t),y=i(n),g=0;g<a.length;++g){var h=a[g];if(!(r[h]||l&&l[h]||y&&y[h]||c&&c[h])){var v=f(n,h);try{u(t,h,v)}catch(e){}}}}return t}},58:function(e,t,n){"use strict";function l(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return l}))},788:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=n(789),o=n(790),r=n(333),a=n(334);l.registerBlockType("spotlight/nft",o.WpBlockConfig),r.WpBlockStore.dispatch(a.loadWpBlock()),window.addEventListener("focus",(function(){r.WpBlockStore.getState().wpBlock.isLoaded&&r.WpBlockStore.dispatch(a.loadWpBlock())}))},789:function(e,t){!function(){e.exports=this.wp.blocks}()},790:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WpBlockConfig=void 0;const l=n(791);t.WpBlockConfig={title:"NFT Gallery",description:"Embed an NFT Gallery",category:"widgets",icon:"format-gallery",keywords:["nft","gallery","erc721","token","crypto"],attributes:{galleryId:{type:"number"}},supports:{html:!1},edit:l.SnftWpBlockEdit}},791:function(e,t,n){"use strict";var l=this&&this.__createBinding||(Object.create?function(e,t,n,l){void 0===l&&(l=n),Object.defineProperty(e,l,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,l){void 0===l&&(l=n),e[l]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&l(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnftWpBlockEdit=void 0;const c=r(n(0)),i=a(n(792)),u=n(793),s=n(794),d=n(20),f=n(52),p=n(6),m=a(n(51)),y=n(13),g=n(140),h=n(4),v=n(795),b=n(333),k=n(63),_=n(138),S=n(64),E={label:"- Choose a gallery -",value:""},B=m.default.config.adminUrl+"admin.php?page=snft&screen=new";function W({attributes:e,setAttributes:t,className:n}){const l=h.useSelector(v.selectIsWpBlockLoaded),o=h.useSelector(k.selectFeeds),r=c.default.useRef(null),[a,f]=c.default.useState(null),[m,E]=c.default.useState(!1),[B,W]=c.default.useState(!1);function j(e){t({galleryId:parseInt(e)}),E(!1)}if(c.useEffect(()=>{l&&function e(n){var l;if(!n)return void(1===o.length&&(null===(l=o[0])||void 0===l?void 0:l.id)?e(o[0].id):E(!0));const a=k.selectFeedById(n)(b.WpBlockStore.getState());if(!a)return f(null),E(!0),void W(!0);r.current=n,t({galleryId:n}),E(!1),W(!1),f(new y.FeedState(a.options,d.Device.DESKTOP,{getWallet:e=>S.selectWallet(e)(b.WpBlockStore.getState())}))}(e.galleryId)},[l,e.galleryId]),!l)return c.default.createElement("div",{className:i.default.loading},c.default.createElement(_.LoadingSpinner,{size:50}));const N=e.galleryId?e.galleryId.toString():"",C=o.find(t=>t.id===e.galleryId),F=o.map(e=>({label:e.name?e.name:"(no name)",value:""+e.id}));return c.default.createElement("div",null,!m&&c.default.createElement(u.BlockControls,null,o.length>1&&c.default.createElement(s.Toolbar,null,c.default.createElement("div",{className:i.default.selector},c.default.createElement("label",{className:i.default.selectorLabel},c.default.createElement("span",null,"Feed:")),c.default.createElement("div",{className:i.default.selectorListContainer},c.default.createElement(s.SelectControl,{value:N,onChange:j,options:F}))))),c.default.createElement("div",null,m&&c.default.createElement(w,null,B&&c.default.createElement(P,{feedId:N}),o.length>0?c.default.createElement(O,{value:N,onChange:j,options:F}):c.default.createElement(x,null)),!m&&a&&!a.hasSources()&&c.default.createElement(w,null,c.default.createElement(T,{feed:C})),!m&&a&&a.hasSources()&&c.default.createElement("div",{className:p.classList(n,i.default.feedContainer)},c.default.createElement(g.TokenFeed,{state:a,onUpdateState:f,autoDevice:!0}))))}function w({children:e}){return c.default.createElement("div",{className:i.default.root},c.default.createElement("img",{className:i.default.logo,src:f.Common.image("icon-128x128.png"),alt:""}),e)}function O({value:e,onChange:t,options:n}){return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:i.default.label},"Choose which NFT feed to show:"),c.default.createElement(s.SelectControl,{value:e,onChange:t,options:[E].concat(n),style:{padding:5}}))}function P({feedId:e}){return c.default.createElement("div",{className:i.default.missingFeedMsg},"This block is hidden because the selected gallery (with ID #",e,") does not exist or has been deleted.")}function T({feed:e}){const t="admin.php?page=snft&screen=edit&id="+e.id.toString();return c.default.createElement("div",{className:i.default.noSourcesMsg},c.default.createElement("span",null,'The gallery "',c.default.createElement("b",null,e.name),'" does not have any NFTs to show.'),c.default.createElement("br",null),c.default.createElement("a",{href:t,target:"_blank"},"Click here")," ",c.default.createElement("span",null,"to edit the gallery and select a wallet with NFTs."))}function x(){return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:i.default.label},"You do not have any NFT feeds."),c.default.createElement("div",{className:i.default.label},"Go to the"," ",c.default.createElement("a",{href:B,target:"_blank"},"NFT Gallery")," ","page to begin designing your first gallery."),c.default.createElement("div",{className:i.default.label},"You can keep this tab open and the block will automatically detect when you create your new gallery."))}t.SnftWpBlockEdit=function(e){return c.default.createElement(h.Provider,{store:b.WpBlockStore},c.default.createElement(W,Object.assign({},e)))}},792:function(e,t,n){e.exports={skeleton:"SnftWpBlockEdit__skeleton","skeleton-text":"SnftWpBlockEdit__skeleton-text SnftWpBlockEdit__skeleton",skeletonText:"SnftWpBlockEdit__skeleton-text SnftWpBlockEdit__skeleton",root:"SnftWpBlockEdit__root",loading:"SnftWpBlockEdit__loading",logo:"SnftWpBlockEdit__logo",label:"SnftWpBlockEdit__label","missing-feed-msg":"SnftWpBlockEdit__missing-feed-msg SnftWpBlockEdit__label",missingFeedMsg:"SnftWpBlockEdit__missing-feed-msg SnftWpBlockEdit__label","no-sources-msg":"SnftWpBlockEdit__no-sources-msg",noSourcesMsg:"SnftWpBlockEdit__no-sources-msg",selector:"SnftWpBlockEdit__selector","selector-label":"SnftWpBlockEdit__selector-label",selectorLabel:"SnftWpBlockEdit__selector-label","selector-list-container":"SnftWpBlockEdit__selector-list-container",selectorListContainer:"SnftWpBlockEdit__selector-list-container","feed-container":"SnftWpBlockEdit__feed-container",feedContainer:"SnftWpBlockEdit__feed-container"}},793:function(e,t){!function(){e.exports=this.wp.blockEditor}()},794:function(e,t){!function(){e.exports=this.wp.components}()},795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectIsWpBlockLoaded=void 0,t.selectIsWpBlockLoaded=e=>e.wpBlock.isLoaded},796:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WpBlockSlice=void 0;const l=n(11),o=n(334);t.WpBlockSlice=l.createSlice({name:"wpBlock",initialState:{isLoaded:!1},reducers:{},extraReducers:e=>e.addCase(o.loadWpBlock.pending,e=>{e.isLoaded=!1}).addCase(o.loadWpBlock.fulfilled,e=>{e.isLoaded=!0})})},84:function(e,t,n){"use strict";function l(e,t){return e===t}function o(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var l=t.length,o=0;o<l;o++)if(!e(t[o],n[o]))return!1;return!0}function r(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}n.d(t,"a",(function(){return a}));var a=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];return function(){for(var t=arguments.length,l=Array(t),o=0;o<t;o++)l[o]=arguments[o];var a=0,c=l.pop(),i=r(l),u=e.apply(void 0,[function(){return a++,c.apply(null,arguments)}].concat(n)),s=e((function(){for(var e=[],t=i.length,n=0;n<t;n++)e.push(i[n].apply(null,arguments));return u.apply(null,e)}));return s.resultFunc=c,s.dependencies=i,s.recomputations=function(){return a},s.resetRecomputations=function(){return a=0},s}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,n=null,r=null;return function(){return o(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}))},89:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},94:function(e,t,n){"use strict";var l=n(95);function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,r,a){if(a!==l){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n,n}},95:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},[[788,3,1,2,0,5,4]]]);